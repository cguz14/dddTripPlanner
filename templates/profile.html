{% extends 'base.html' %}

{% block title %}User Page{% endblock %}

{% block content %}
<div class="row">
    <div class="col-7">
        <div id="profile">
            <h1>Welcome to Flavortown!</h1>
            <h2>Profile Info for: <span id="username-header-span">{{ session["username"] }}</span>!</h2>
    
            <p>
                <div>User id: {{ session["user_id"] }}</div>
                <div>Username: <span id="username-span">{{ session["username"] }}</span></div>
                <div>Email: {{ session["email"] }}</div>
                <div><b>Badges Earned</b>{% for badge in user.badges %}<li>{{ badge.badge_name }}<ul>{{ badge.badge_description }}</ul>{% endfor %}</li></div>
                <div><img src="{{ session['user_icon'] }}" class="profile-user-icon"></div>
            </p>
        </div>

        <form id="change-username-form">
            <div class="form-group">
                New username (optional): 
                <input class="form-control" type="text" name="new-username"
                    id="new-username-field" placeholder="username">
            </div>
            <div class="form-group">
                <button class="btn btn-primary mt-2" type="submit">Change username</button>
            </div>
        </form>

        <div id="view_favorites">    
            <form action="/favorites" method="get">
                <button type="submit" class="view_favorites_button">
                    View Favorites
                </button>
            </form>    
        </div>

        <div id="view_trips">    
            <form action="/trips" method="get">
                <button type="submit" class="view_trips_button">
                    View Trips
                </button>
            </form>    
        </div>

        <div id="return_home">    
            <form action="/" method="get">
                <button type="submit" class="return_home_button">
                    Return to home page
                </button>
            </form>    
        </div>
    </div>
</div>

<script src="/static/js/profile.js"></script>
{% endblock %}